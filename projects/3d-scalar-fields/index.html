<!DOCTYPE html>
<html lang="en"><!--
 __  __                __                                     __
/\ \/\ \              /\ \             __                    /\ \
\ \ \_\ \   __  __    \_\ \      __   /\_\      __       ___ \ \ \/'\
 \ \  _  \ /\ \/\ \   /'_` \   /'__`\ \/\ \   /'__`\    /'___\\ \ , <
  \ \ \ \ \\ \ \_\ \ /\ \L\ \ /\  __/  \ \ \ /\ \L\.\_ /\ \__/ \ \ \\`\
   \ \_\ \_\\/`____ \\ \___,_\\ \____\ _\ \ \\ \__/.\_\\ \____\ \ \_\ \_\
    \/_/\/_/ `/___/> \\/__,_ / \/____//\ \_\ \\/__/\/_/ \/____/  \/_/\/_/
                /\___/                \ \____/
                \/__/                  \/___/

Powered by Hydejack v6.5.0 (https://qwtel.com/hydejack/)
-->









<head>
  
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="format-detection" content="telephone=no">
<meta http-equiv="x-ua-compatible" content="ie=edge">




  <title>3D Scalar Fields &middot; Sridhar</title>



<meta name="description" content="Visualizing a 3D Scalar Field as an Isosurface in openFrameworks in C++
">




<link rel="canonical" href="http://localhost:4000/projects/3d-scalar-fields/">

<link rel="alternate" type="application/atom+xml" title="Sridhar Feed" href="http://localhost:4000/feed.xml">


  <link rel="prev" href="http://localhost:4000/projects/Interactive-Parallel-Coordinates/">



  <link rel="next" href="http://localhost:4000/projects/3d-scene-viewer/">


<link rel="apple-touch-icon" href="/apple-touch-icon.png">
<!-- Place favicon.ico in the root directory -->


<!--[if gt IE 8]><!---->


<script>
  WebFontConfig = {
    
    google: {
      families: 'Roboto+Slab:700|Noto+Sans:400,400i,700,700i'.split('|')
    },
    

    custom: {
      families: ['icomoon'],
      urls: ['/assets/icomoon/style.css']
    }
  };
</script>
<script async src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"></script>
<!--<![endif]-->

<script>
  !function(n,e){function t(n,e){n.onload=function(){this.onerror=this.onload=null,e(null,n)},n.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),n)}}function o(n,e){n.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,e(null,n))}}n._loaded=!1,n.loadJSDeferred=function(a,d){function r(){n._loaded=!0;var r=e.createElement("script");r.src=a,d&&(("onload"in r?t:o)(r,d),r.onload||t(r,d));var l=e.getElementsByTagName("script")[0];l.parentNode.insertBefore(r,l)}n._loaded?r():n.addEventListener?n.addEventListener("load",r,!1):n.attachEvent?n.attachEvent("onload",r):n.onload=r}}(window,document);

  !function(e){"use strict";var n=function(n,t,o){function i(e){if(a.body)return e();setTimeout(function(){i(e)})}function r(){l.addEventListener&&l.removeEventListener("load",r),l.media=o||"all"}var d,a=e.document,l=a.createElement("link");if(t)d=t;else{var f=(a.body||a.getElementsByTagName("head")[0]).childNodes;d=f[f.length-1]}var s=a.styleSheets;l.rel="stylesheet",l.href=n,l.media="only x",i(function(){d.parentNode.insertBefore(l,t?d:d.nextSibling)});var u=function(e){for(var n=l.href,t=s.length;t--;)if(s[t].href===n)return e();setTimeout(function(){u(e)})};return l.addEventListener&&l.addEventListener("load",r),l.onloadcssdefined=u,u(r),l};"undefined"!=typeof exports?exports.loadCSS=n:e.loadCSS=n}("undefined"!=typeof global?global:this);

  !function(t){if(t.loadCSS){var e=loadCSS.relpreload={};if(e.support=function(){try{return t.document.createElement("link").relList.supports("preload")}catch(t){return!1}},e.poly=function(){for(var e=t.document.getElementsByTagName("link"),r=0;r<e.length;r++){var n=e[r];"preload"===n.rel&&"style"===n.getAttribute("as")&&(t.loadCSS(n.href,n,n.getAttribute("media")),n.rel=null)}},!e.support()){e.poly();var r=t.setInterval(e.poly,300);t.addEventListener&&t.addEventListener("load",function(){e.poly(),t.clearInterval(r)}),t.attachEvent&&t.attachEvent("onload",function(){t.clearInterval(r)})}}}(this);

  window.disablePushState = false;
  window.disableDrawer = false;
</script>

<!--[if lt IE 9]>
<script src="https://unpkg.com/html5shiv/dist/html5shiv.min.js"></script>
<![endif]-->


<!--[if gt IE 8]><!---->
<style>
  
  article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}*{box-sizing:border-box}html,body{margin:0;padding:0}html{font-size:16px;line-height:1.75}body{color:#333;background-color:#fff;overflow-y:scroll}a{text-decoration:none}.lead{margin-left:-1rem;margin-right:-1rem}img,.img{display:block;max-width:100%;margin-bottom:1rem;border:none}img.lead,.img.lead{max-width:calc(100% + 2rem);width:calc(100% + 2rem)}h1,h2,h3,h4,h5,h6,.h1,.h2,.h3,.h4,.h5,.h6,.heading{font-weight:bold;text-rendering:optimizeLegibility}h1,h2,h3,h4,h5,h6,.h1,.h2,.h3,.h4,.h5,.h6{margin:3rem 0 1rem;line-height:1.6}h1,.h1{font-size:2rem;line-height:1.25}h2,.h2{font-size:1.5rem}h3,.h3{font-size:1.17em}p{margin-top:0;margin-bottom:1rem}p.lead{font-size:1.25rem;font-weight:300;padding:0 1rem}ul,ol,dl{margin-top:0;margin-bottom:1rem}ul,ol{padding-left:1.25rem}hr{position:relative;margin:1.5rem 0;border:0;border-top:1px solid #eee}.hr{padding-bottom:.5rem;border-bottom:1px solid #eee;margin-bottom:1.5rem}h4,h5,h6,.h4,.h5,.h6{margin-bottom:0.5rem;font-size:1rem}table{margin-bottom:1rem;width:100%;width:calc(100% + 2rem);margin-left:-1rem;border:1px solid #e5e5e5;border-collapse:collapse;border-spacing:0}td,th{padding:.25rem .5rem;border:1px solid #e5e5e5}td:first-child,th:first-child{padding-left:1rem}td:last-child,th:last-child{padding-right:1rem}thead+tbody,tbody+tbody,tfoot{border-top:3px double #e5e5e5}tbody tr:nth-child(odd) td,tbody tr:nth-child(odd) th{background-color:#f9f9f9}footer{margin-bottom:2rem}.page,.post{margin-bottom:3em}.page li+li,.post li+li{margin-top:.25rem}.page>header,.post>header{margin-bottom:2rem}.page-title,.post-title{margin-top:0}.post-date{display:block;margin-top:-0.5rem;margin-bottom:1rem;color:#9a9a9a}.related-posts{padding-left:0;list-style:none}.related-posts>li,.related-posts>li+li{margin-top:1rem}.related-posts>li>small,.related-posts>li+li>small{font-size:75%;color:#9a9a9a}.message{margin-bottom:1rem;padding:1rem;color:#787878;background-color:#f9f9f9;margin-left:-1rem;margin-right:-1rem}body,main{position:relative;overflow-x:hidden}@media screen{body::before{content:'';width:.5rem;background:#e5e5e5;position:absolute;left:0;top:0;bottom:0}}@media screen and (min-width: 40em){html{font-size:17px}}@media screen and (min-width: 54em){html{font-size:16px}}@media screen and (min-width: 72em){html{font-size:17px}}@media screen and (min-width: 125em){html{font-size:18px}}.sr-only{display:none}.clearfix,.sidebar-social::after,.clearafter::after{content:"";display:table;clear:both}a,.a{position:relative;padding-bottom:.15rem;border-bottom:1px solid}.img{overflow:hidden;background-color:#f9f9f9}.img>img{margin:0;width:100%;height:100%}.sixteen-nine{position:relative}.sixteen-nine::before{display:block;content:"";width:100%;padding-top:56.25%}.sixteen-nine>*{position:absolute;top:0;left:0;right:0;bottom:0}h1+hr,h2+hr,h3+hr,h4+hr,h5+hr,h6+hr{margin-top:0}.fade-in{animation-duration:500ms;animation-name:fade-in;animation-fill-mode:forwards}@keyframes fade-in{from{transform:translateY(-2rem);opacity:0}50%{transform:translateY(-2rem);opacity:0}to{transform:translateY(0);opacity:1}}.mb6{margin-bottom:6rem}.sidebar{color:rgba(255,255,255,0.75);text-align:left}.sidebar::before{content:"";position:absolute;z-index:2;top:0;left:0;bottom:0;right:0;background:linear-gradient(to bottom, rgba(32,32,32,0) 0%, rgba(32,32,32,0.5) 100%)}.sidebar a{color:#fff;border-bottom-color:rgba(255,255,255,0.2)}#_yDrawer{position:relative;padding:1rem 0}@media screen{#_yDrawer{padding:2rem 1rem;min-height:640px;min-height:100vh}}@media screen and (min-width: 54em){#_yDrawer{position:fixed;top:0;left:0;bottom:0;width:18rem;margin-left:0}}@media screen and (min-width: 97.5em){#_yDrawer{width:calc(50% - 28rem)}}@media screen{#_yDrawer.loaded{min-height:0;padding:0}}.sidebar-bg{position:absolute;top:0;right:0;bottom:0;left:0;background:#202020 center / cover}.sidebar-sticky{position:relative;z-index:3}@media screen{.sidebar-sticky{position:absolute;right:2rem;bottom:1rem;left:auto;max-width:14rem}}@media print{.sidebar-sticky{padding:0 2rem}}.sidebar-about>h1{color:#fff;font-size:2rem}.sidebar-nav>ul{list-style:none;padding-left:0;margin-bottom:.5rem}a.sidebar-nav-item{font-weight:bold;display:block;line-height:1.75;padding:.25rem 0;border-bottom:1px solid rgba(255,255,255,0.2)}@media screen{.y-drawer-scrim{z-index:2}.y-drawer-content{width:18rem;left:-17.5rem;z-index:3}}@media screen and (min-width: 97.5em){.y-drawer-content{width:calc(50% - 28rem)}}.sidebar-social{margin-bottom:.5rem}.sidebar-social>ul{list-style:none;padding-left:0;margin:0 -.25rem}.sidebar-social>ul>li{float:left;margin:0 .25rem}.sidebar-social>ul>li>a{display:inline-block;text-align:center;font-size:1.6rem;line-height:3rem;width:3.1249rem;height:4rem;padding:.5rem 0}.sidebar-social>ul li+li{margin-top:0}.fixed-top{position:fixed;top:0;left:0;width:100%;z-index:1}.navbar>.content{padding-top:0;padding-bottom:0;min-height:0;height:0}.menu{display:inline-block;padding:1.75rem 1.5rem;border-bottom:none;margin-left:-1.5rem;color:#9a9a9a !important}.menu::after{content:"\2630"}@media screen and (min-width: 54em){.menu{padding:1.25rem 1.5rem;position:absolute;left:-9999px}.menu:focus{position:static}}.animation-main{pointer-events:none}.loading{display:none}@media print{.menu{display:none}}.animation-main{opacity:0;will-change:opacity}.loading{position:absolute;top:0;right:0;padding:5.25rem 4.5rem;transform-origin:top right;transform:scale(0.33)}.content{position:relative;margin-left:auto;margin-right:auto;padding:5rem 1rem 12rem}@media screen{.content{max-width:38rem;padding-left:1.5rem;min-height:100vh}}@media screen and (min-width: 54em){.content{max-width:42rem;padding:4rem 1rem 12rem;margin-left:22rem;margin-right:4rem}}@media screen and (min-width: 72em){.content{margin-left:22rem;margin-right:4rem}}@media screen and (min-width: 92em){.content{max-width:48rem}}@media screen and (min-width: 97.5em){.content{margin:auto}}.me{float:right;width:6.5rem;height:6.5rem;margin-left:1rem;margin-bottom:.5rem;border-radius:100%;position:relative}@media screen and (min-width: 40em){.me{width:7rem;height:7rem}}@media screen and (min-width: 54em){.me{width:6.5rem;height:6.5rem}}@media screen and (min-width: 60em){.me{width:7rem;height:7rem}}main>footer{position:absolute;bottom:0;left:0;right:0;padding:0 1rem;color:#9a9a9a;font-size:smaller;text-align:center}main>footer>p{margin-bottom:0}html{font-family:Helvetica, Arial, sans-serif}h1,h2,h3,h4,h5,h6,.h1,.h2,.h3,.h4,.h5,.h6,.heading{font-family:Helvetica, Arial, sans-serif}

</style>


<link rel="preload" href="/assets/css/hydejack.css?v=6.5.0" as="style" onload="this.rel='stylesheet'">

<style id="_pageStyle">

.content a{color:#4f86aa;border-color:rgba(79,134,170,0.2)}.content a:hover{border-color:#4f86aa}:focus{outline-color:#4f86aa}::selection{color:#fff;background:#4f86aa}::-moz-selection{color:#fff;background:#4f86aa}

</style>


<noscript>
  <link rel="stylesheet" href="/assets/css/hydejack.css?v=6.5.0">

  
  
  

  
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab:700|Noto+Sans:400,400i,700,700i">
    <style>
      html { font-family: 'Noto Sans', Helvetica, Arial, sans-serif }
      h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6, .heading { font-family: 'Roboto Slab', Helvetica, Arial, sans-serif }
    </style>
  

  
  <link rel="stylesheet" href="/assets/icomoon/style.css">
</noscript>
<!--<![endif]-->

</head>

<body>
  
<div class="navbar fixed-top">
  <div class="content">
    <span class="sr-only">Jump to:</span>
    <a id="_menu" class="menu no-hover" href="#_title">
      <span class="sr-only">Menu</span>
    </a>
  </div>
</div>


<div id="_yPushState">
  <div class="fade-in">
    <main id="_main" class="content" role="main" data-color="#4f86aa" data-image="/assets/img/rain.jpg">
      <!--[if gt IE 8]><!---->
<style>.grid{margin-left:-1rem;display:flex;flex-wrap:wrap}.grid::after{content:"";display:table;clear:both}.col{float:left;padding-left:1rem;margin-bottom:1rem;width:100%;display:flex}@media screen and (min-width: 40em){.col-1-2{width:50%}}@media screen and (min-width: 54em){.col-1-2{width:100%}}@media screen and (min-width: 60em){.col-1-2{width:50%}}@media print{.grid{display:block}.col{display:block;width:50%}}.card{width:100%;background:#fff;border:1px solid #eee;text-align:center;padding-bottom:0.75rem;margin-bottom:1rem;contain:content;overflow:hidden;border-radius:.25rem;page-break-inside:avoid}.card>a>.img{margin-bottom:0;border-bottom:1px solid #eee;border-top:1px solid #eee;position:relative;top:-1px}.card>.name,.card>.caption{padding:0 1rem}.card>.name{display:block;text-align:center;font-size:1rem;margin-top:0.75rem;margin-bottom:0.25rem;color:inherit}.card>.caption{margin:0.25rem 0;font-size:smaller;color:#787878}.card>.caption>p{margin-bottom:0}
</style>
<!--<![endif]-->



<article class="page" role="article">
  <header>
    <h1 class="page-title">3D Scalar Fields</h1>

    <p class="post-date heading">
      
      
        <a href="/projects/" data-flip="title">Projects</a>
        |
      
      <time datetime="2017-05-31T00:00:00-07:00">2017</time>
      <span style="float:right">
        <span class="sr-only">Links:</span>
        
          <a href="https://github.com/srmocher/of-vtk-Isosurfaces">Source</a>
          
        
      </span>
    </p>

    <div class="img lead sixteen-nine">
      
        
  

  

  <img
    src="https://i.imgur.com/JYMSews.gif"
    
    alt="Screenshot"
    srcset="https://i.imgur.com/JYMSews.gif 1920w,https://i.imgur.com/JYMSews.gif 960w,https://i.imgur.com/JYMSews.gif 480w"
    sizes="(min-width: 92em) 48rem, (min-width: 54em) 42rem, (min-width: 40em) 37.5rem, 100vw"
  />


      
    </div>

    
  
  
<p class="message">Visualizing a 3D Scalar Field as an Isosurface in openFrameworks in C++</p>




  </header>

  <p>Scientific data visualization (or <em>sci-viz</em> as it is frequently referred to) is a critical sub-field in Data Visualization dealing specifically with interpreting and rendering of scientific data. Real-time applications include Medical data (CT Scan, MRI), Fluid Simulations (SPH, Grid simulations), Weather data (cyclone/hurricane patterns) among various others. The underlying data for all of these applications is typically stored as field data (scalar fields/vector fields/ tensor fields).</p>

<p>In this post, I’ll be covering scalar fields and visualizing them. Field data, in contrast to the data we’ve seen so far, takes spatial position as its domain. The type of field (scalar/vector/tensor) differs with respect to the range of the data. Scalar fields have a <strong><em>single</em></strong> scalar value at each spatial point in the domain. Mathematically, it is defined as follows:</p>

<pre class="MathJax_Preview"><code>f:E^n \rightarrow R</code></pre>
<script type="math/tex; mode=display">f:E^n \rightarrow R</script>

<p>where <code class="MathJax_Preview">E^n</code><script type="math/tex">E^n</script> is n-dimensional Euclidean space and <code class="MathJax_Preview">R</code><script type="math/tex">R</script> is the set of real numbers.</p>

<p>For a 3D scalar field, <code class="MathJax_Preview">n=3</code><script type="math/tex">n=3</script>.</p>

<p>The most common technique for visualizing 3D scalar fields is rendering as <em>isosurfaces</em>. Isosurfaces are 3D structures where each point within that structure holds the same scalar value (referred to as the <em>isovalue</em>). There exists a very famous algorithm in Computer Graphics literature for isosurface construction - <strong>Marching Cubes</strong> algorithm.</p>

<p>The key idea behind Marching Cubes is <em>interpolation</em>. Interpolation helps in filling the data values at points which do not possess values, which is required for generating a continuous surface.  To do this, a grid of size D is generated and it is divided into equal size cubes covering the full domain of the scalar field. Then, we check for a particular isovalue and for each cube in particular,  whether there is a change in sign between the vertices of the cube i.e the value at one of the cube vertex is greater than the isovalue and the value at adjacent vertex is less than the isovalue (or vice versa). This would indicate that the isosurface intersects the edge connecting the two vertices. The value at the intersecting edge is generally computed using linear interpolation. The interpolated vertices within a cube are connected as triangles. The accumulation of these triangles, as a result forms the resulting isosurface. It accounts for the different cases (number of edges greater/lesser than isovalue) and intersections.</p>

<p>Paul Bourke’s <a href="http://paulbourke.net/geometry/polygonise/">implementation</a> is one of the most popular out there with a good explanation to go with. I have leveraged this in my openFrameworks solution to render isosurfaces. I have added code to interpolate normals as well, which becomes useful when we take advantage of lighting and shading.</p>

<p>Below is the C++ interface in my implementation for Marching Cubes:</p>
<div class="language-c++ highlighter-rouge"><pre class="highlight"><code><span class="c1">// Each triangle vertex is a 3D point
</span><span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">ofVec3f</span> <span class="n">vertices</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="p">}</span><span class="n">Triangle</span><span class="p">;</span>

<span class="c1">// Cube to sample and interpolate values
</span><span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">ofVec3f</span> <span class="n">points</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="kt">float</span> <span class="n">values</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="n">ofVec3f</span> <span class="n">normals</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
<span class="p">}</span><span class="n">Cube</span><span class="p">;</span>

<span class="c1">// Marching Cubes abstraction
</span><span class="k">class</span> <span class="nc">MarchingCubes</span>
<span class="p">{</span>
<span class="k">private</span><span class="o">:</span>
	<span class="kt">bool</span> <span class="n">computeNormals</span><span class="p">;</span>
	<span class="n">vector</span><span class="o">&lt;</span><span class="n">Triangle</span><span class="o">&gt;</span> <span class="n">triangles</span><span class="p">;</span>
	<span class="n">vector</span><span class="o">&lt;</span><span class="n">ofVec3f</span><span class="o">&gt;</span> <span class="n">Normals</span><span class="p">;</span>
	<span class="kt">int</span> <span class="o">*</span><span class="n">dims</span><span class="p">;</span>
	<span class="kt">float</span> <span class="o">***</span><span class="n">data</span><span class="p">;</span> <span class="c1">// 3D scalar field data
</span>	<span class="n">ofVec3f</span> <span class="o">***</span><span class="n">normals</span><span class="p">;</span> <span class="c1">//normals at each cube vertex
</span>	<span class="n">vector</span><span class="o">&lt;</span><span class="n">ofVec3f</span><span class="o">&gt;</span> <span class="n">vertices</span><span class="p">;</span>
	<span class="kt">void</span> <span class="n">computeNormal</span><span class="p">(</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">);</span>
	<span class="n">ofVec3f</span> <span class="n">interpolateNormals</span><span class="p">(</span><span class="kt">float</span> <span class="n">isoValue</span><span class="p">,</span> <span class="n">ofVec3f</span> <span class="n">point1</span><span class="p">,</span> <span class="n">ofVec3f</span> <span class="n">point2</span><span class="p">,</span> <span class="kt">float</span> <span class="n">point1Value</span><span class="p">,</span> <span class="kt">float</span> <span class="n">point2Value</span><span class="p">,</span><span class="kt">int</span><span class="p">,</span><span class="kt">int</span><span class="p">,</span><span class="kt">int</span><span class="p">,</span><span class="kt">int</span><span class="p">,</span><span class="kt">int</span><span class="p">,</span><span class="kt">int</span><span class="p">);</span>
<span class="k">public</span><span class="o">:</span>
	<span class="n">MarchingCubes</span><span class="p">(</span><span class="kt">float</span> <span class="o">***</span><span class="n">data</span><span class="p">,</span><span class="kt">int</span> <span class="o">*</span><span class="p">);</span>
	<span class="o">~</span><span class="n">MarchingCubes</span><span class="p">();</span>
	<span class="kt">void</span> <span class="n">extractIsoSurface</span><span class="p">(</span><span class="n">Cube</span> <span class="n">cube</span><span class="p">,</span><span class="kt">float</span> <span class="n">isoValue</span><span class="p">,</span><span class="kt">int</span><span class="p">,</span><span class="kt">int</span><span class="p">,</span><span class="kt">int</span><span class="p">);</span>
	<span class="n">ofVec3f</span> <span class="n">interpolateVertices</span><span class="p">(</span><span class="kt">float</span> <span class="n">isoValue</span><span class="p">,</span> <span class="n">ofVec3f</span> <span class="n">point1</span><span class="p">,</span> <span class="n">ofVec3f</span> <span class="n">point2</span><span class="p">,</span> <span class="kt">float</span> <span class="n">point1Value</span><span class="p">,</span> <span class="kt">float</span> <span class="n">point2Value</span><span class="p">);</span>
	<span class="n">vector</span><span class="o">&lt;</span><span class="n">Triangle</span><span class="o">&gt;</span> <span class="n">getTriangles</span><span class="p">();</span>
	<span class="n">vector</span><span class="o">&lt;</span><span class="n">ofVec3f</span><span class="o">&gt;</span> <span class="n">getNormals</span><span class="p">();</span>
	<span class="kt">void</span> <span class="n">setComputeNormals</span><span class="p">(</span><span class="kt">bool</span><span class="p">);</span>
	<span class="kt">void</span> <span class="n">reset</span><span class="p">();</span>
<span class="p">};</span>

</code></pre>
</div>

<p>The data is passed as 3D float array. My openFrameworks solutions supports reading from .vti (<a href="http://www.vtk.org/">Visualization Toolkit</a> Image) data using C++ VTK libraries. I will talk in more depth about VTK in my next post but it is a very popular C++ toolkit for interfacing and visualizing scientific data. VTK serves as the backbone for Paraview. In order for openFrameworks and VTK to work in tandem, we use a different CMake build tool called <a href="https://github.com/ofnode/of">ofNode</a>.</p>

<p>For rendering a mesh, openFrameworks provides <code class="highlighter-rouge">ofVboMesh</code> and it is used as follows:</p>
<div class="language-c++ highlighter-rouge"><pre class="highlight"><code><span class="kt">void</span> <span class="n">ofApp</span><span class="o">::</span><span class="n">createMesh</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">mesh</span><span class="p">.</span><span class="n">clearNormals</span><span class="p">();</span>
	<span class="n">mesh</span><span class="p">.</span><span class="n">clearVertices</span><span class="p">();</span>
	<span class="n">mesh</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span>
	<span class="n">vector</span><span class="o">&lt;</span><span class="n">Triangle</span><span class="o">&gt;</span> <span class="n">triangles</span> <span class="o">=</span> <span class="n">mc</span><span class="o">-&gt;</span><span class="n">getTriangles</span><span class="p">();</span>
	<span class="n">vector</span><span class="o">&lt;</span><span class="n">ofVec3f</span><span class="o">&gt;</span> <span class="n">normals</span> <span class="o">=</span> <span class="n">mc</span><span class="o">-&gt;</span><span class="n">getNormals</span><span class="p">();</span>
	<span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">triangles</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">mesh</span><span class="p">.</span><span class="n">addVertex</span><span class="p">(</span><span class="n">triangles</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">vertices</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">computeNormals</span><span class="p">)</span>
			<span class="n">mesh</span><span class="p">.</span><span class="n">addNormal</span><span class="p">(</span><span class="n">normals</span><span class="p">[</span><span class="n">j</span><span class="p">]);</span>
		<span class="n">mesh</span><span class="p">.</span><span class="n">addVertex</span><span class="p">(</span><span class="n">triangles</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">vertices</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">computeNormals</span><span class="p">)</span>
			<span class="n">mesh</span><span class="p">.</span><span class="n">addNormal</span><span class="p">(</span><span class="n">normals</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">]);</span>
		<span class="n">mesh</span><span class="p">.</span><span class="n">addVertex</span><span class="p">(</span><span class="n">triangles</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">vertices</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">computeNormals</span><span class="p">)</span>
			<span class="n">mesh</span><span class="p">.</span><span class="n">addNormal</span><span class="p">(</span><span class="n">normals</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mi">2</span><span class="p">]);</span>
		<span class="n">mesh</span><span class="p">.</span><span class="n">addTriangle</span><span class="p">(</span><span class="n">j</span><span class="p">,</span> <span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">j</span> <span class="o">+</span> <span class="mi">2</span><span class="p">);</span>
		<span class="n">j</span> <span class="o">+=</span> <span class="mi">3</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>


</article>


  <hr class="dingbat" />





  <aside class="author" role="complementary">
    <div class="author">
  
    
  

  

  <img
    src="/assets/img/profile.jpg"
    class="me"
    alt="Sridhar Mocherla"
    srcset="/assets/img/profile.jpg 1x,/assets/img/profile.jpg 2x"
    
  />


  

  <h2 class="page-title hr">
    About
  </h2>

  <p>Computer Science student, Software Engineer.</p>


  
    <div class="sidebar-social">
      <span class="sr-only">Social:</span>
<ul>
  
    













<li>
  <a href="https://twitter.com/SridharMocherla" title="Twitter">
    <span class="icon-twitter"></span>
    <span class="sr-only">Twitter</span>
  </a>
</li>

  
    













<li>
  <a href="https://github.com/srmocher" title="GitHub">
    <span class="icon-github"></span>
    <span class="sr-only">GitHub</span>
  </a>
</li>

  
    













<li>
  <a href="http://stackoverflow.com/users/4031150/sridhar" title="Stack Overflow">
    <span class="icon-stackoverflow"></span>
    <span class="sr-only">Stack Overflow</span>
  </a>
</li>

  
    













<li>
  <a href="mailto:sridhar.mocherla@outlook.com" title="Email">
    <span class="icon-mail"></span>
    <span class="sr-only">Email</span>
  </a>
</li>

  

  

  
</ul>

    </div>
  
</div>

  </aside>






  <h2>Other Projects</h2>
  <div class="grid">
    
    
      <div class="col col-1-2">
        

<div class="card">
  <a href="/projects/Interactive-Parallel-Coordinates/" class="no-hover" data-flip="project">
    <div class="img sixteen-nine">
      
        
  

  

  <img
    src="/assets/img/parallelcoordinates.gif"
    
    alt="Thumbnail"
    srcset="/assets/img/parallelcoordinates.gif 1920w,/assets/img/parallelcoordinates.gif 960w,/assets/img/parallelcoordinates.gif 480w"
    sizes="(min-width: 92em) 22.5rem, (min-width: 60em) 19.5rem, (min-width: 54em) 32rem, (min-width: 40em) 17.25rem, 100vw"
  />


      
    </div>
  </a>
  <h3 class="name">
    <a href="/projects/Interactive-Parallel-Coordinates/" data-flip="title">Interactive Parallel Coordinates</a>
  </h3>
  
    <div class="caption"><p>PCs in openFrameworks with interaction</p>
</div>
  
</div>

      </div>
    

    
    
      <div class="col col-1-2">
        

<div class="card">
  <a href="/projects/3d-scene-viewer/" class="no-hover" data-flip="project">
    <div class="img sixteen-nine">
      
        
  

  

  <img
    src="https://res.cloudinary.com/dqagjb1nc/image/upload/v1497603703/Capture_plsuz9.png"
    
    alt="Thumbnail"
    srcset="https://res.cloudinary.com/dqagjb1nc/image/upload/v1497603703/Capture_plsuz9.png 1920w,https://res.cloudinary.com/dqagjb1nc/image/upload/v1497603703/Capture_plsuz9.png 960w,https://res.cloudinary.com/dqagjb1nc/image/upload/v1497603703/Capture_plsuz9.png 480w"
    sizes="(min-width: 92em) 22.5rem, (min-width: 60em) 19.5rem, (min-width: 54em) 32rem, (min-width: 40em) 17.25rem, 100vw"
  />


      
    </div>
  </a>
  <h3 class="name">
    <a href="/projects/3d-scene-viewer/" data-flip="title">3D Scene Viewer</a>
  </h3>
  
    <div class="caption"><p>3D Scene Viewer in openGL with limited interaction</p>
</div>
  
</div>

      </div>
    
  </div>



      

      <footer>
  <hr/>
  
    <p>© Sridhar 2017. All rights reserved.</p>

  
  <p>
    <code>Powered by <a href="https://qwtel.com/hydejack/">Hydejack</a> v<span id="_version">6.5.0</span></code>
  </p>
</footer>

    </main>
  </div>
  <div id="_yDrawer">
  <div id="_sidebar" class="sidebar">
    <div class="sidebar-bg" style="background-color:#4f86aa;background-image:url(/assets/img/rain.jpg)"></div>
    <header class="sidebar-sticky" role="banner">
      <div class="sidebar-about">
        <h1><a id="_title" href="/">Sridhar</a></h1>
        <p>Computer Science student, Software Engineer.</p>

      </div>

      <nav class="sidebar-nav heading" role="navigation">
        <span class="sr-only">Navigation:</span>
<ul>
  

  

  

  
    <li>
      <a class="sidebar-nav-item" href="/projects/">Projects</a>
    </li>
  
    <li>
      <a class="sidebar-nav-item" href="/resume/">Resume</a>
    </li>
  
    <li>
      <a class="sidebar-nav-item" href="/about/">About</a>
    </li>
  
</ul>

      </nav>

      

      
        <div class="sidebar-social">
          <span class="sr-only">Social:</span>
<ul>
  
    













<li>
  <a href="https://twitter.com/SridharMocherla" title="Twitter">
    <span class="icon-twitter"></span>
    <span class="sr-only">Twitter</span>
  </a>
</li>

  
    













<li>
  <a href="https://github.com/srmocher" title="GitHub">
    <span class="icon-github"></span>
    <span class="sr-only">GitHub</span>
  </a>
</li>

  
    













<li>
  <a href="http://stackoverflow.com/users/4031150/sridhar" title="Stack Overflow">
    <span class="icon-stackoverflow"></span>
    <span class="sr-only">Stack Overflow</span>
  </a>
</li>

  
    













<li>
  <a href="mailto:sridhar.mocherla@outlook.com" title="Email">
    <span class="icon-mail"></span>
    <span class="sr-only">Email</span>
  </a>
</li>

  

  

  
</ul>

        </div>
      
    </header>
  </div>
</div>

</div>



<script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-103697816-1', 'auto');
  ga('send', 'pageview');
  loadJSDeferred('https://www.google-analytics.com/analytics.js');
</script>



  <!--[if gt IE 9]><!---->
  
  <script>loadJSDeferred('/assets/js/hydejack.js?v=6.5.0');</script>

  

  <!--<![endif]-->



</body>

</html>
